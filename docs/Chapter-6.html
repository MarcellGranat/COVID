<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Klaszterezés és főkomponens elemzés | A COVID járvány elemzése többváltozós statisztikai eszközökkel</title>
  <meta name="description" content="Klaszterezés és főkomponens elemzés | A COVID járvány elemzése többváltozós statisztikai eszközökkel" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Klaszterezés és főkomponens elemzés | A COVID járvány elemzése többváltozós statisztikai eszközökkel" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Klaszterezés és főkomponens elemzés | A COVID járvány elemzése többváltozós statisztikai eszközökkel" />
  
  
  

<meta name="author" content="Granát Marcell &amp; Mazzag Bálint" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="logo.ico" type="image/x-icon" />
<link rel="prev" href="Chapter-5.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.13/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<img src="logo.png" width="300" height="300">

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Mi ez a projekt?</a></li>
<li class="chapter" data-level="" data-path="Chapter-2.html"><a href="Chapter-2.html"><i class="fa fa-check"></i>Döntési fa és véletlen erdő</a><ul>
<li class="chapter" data-level="" data-path="Chapter-2.html"><a href="Chapter-2.html#adatok-bemutatása"><i class="fa fa-check"></i>Adatok bemutatása</a><ul>
<li class="chapter" data-level="" data-path="Chapter-2.html"><a href="Chapter-2.html#forrás"><i class="fa fa-check"></i>Forrás</a></li>
<li class="chapter" data-level="" data-path="Chapter-2.html"><a href="Chapter-2.html#adatok-elemzéshez-való-előkészítése"><i class="fa fa-check"></i>Adatok elemzéshez való előkészítése</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Chapter-2.html"><a href="Chapter-2.html#modellbecslés"><i class="fa fa-check"></i>Modellbecslés</a></li>
<li class="chapter" data-level="" data-path="Chapter-2.html"><a href="Chapter-2.html#keresztvalidáció-és-véletlen-erdő-hiperparamétere"><i class="fa fa-check"></i>Keresztvalidáció és véletlen erdő hiperparamétere</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Chapter-3.html"><a href="Chapter-3.html"><i class="fa fa-check"></i>Logit-modell</a><ul>
<li class="chapter" data-level="" data-path="Chapter-3.html"><a href="Chapter-3.html#logit-modell-kalibrálása"><i class="fa fa-check"></i>Logit modell kalibrálása</a><ul>
<li class="chapter" data-level="" data-path="Chapter-3.html"><a href="Chapter-3.html#outlierek-és-vif-mutató-szerinti-elemzés"><i class="fa fa-check"></i>Outlierek és VIF mutató szerinti elemzés</a></li>
<li class="chapter" data-level="" data-path="Chapter-3.html"><a href="Chapter-3.html#nemlinearitás-vizsgálata-a-reset-teszttel"><i class="fa fa-check"></i>Nemlinearitás vizsgálata a RESET-teszttel</a></li>
<li class="chapter" data-level="" data-path="Chapter-3.html"><a href="Chapter-3.html#előrejelzés-a-kiválasztott-modellel"><i class="fa fa-check"></i>Előrejelzés a kiválasztott modellel</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="Chapter-4.html"><a href="Chapter-4.html"><i class="fa fa-check"></i>Szövegelemzés</a><ul>
<li class="chapter" data-level="" data-path="Chapter-4.html"><a href="Chapter-4.html#elemzés"><i class="fa fa-check"></i>Elemzés</a><ul>
<li class="chapter" data-level="" data-path="Chapter-4.html"><a href="Chapter-4.html#bag-of-words"><i class="fa fa-check"></i>Bag of Words</a></li>
<li class="chapter" data-level="" data-path="Chapter-4.html"><a href="Chapter-4.html#sentiment-elemzés"><i class="fa fa-check"></i>Sentiment elemzés</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="Chapter-5.html"><a href="Chapter-5.html"><i class="fa fa-check"></i>Idősor elemzés</a><ul>
<li class="chapter" data-level="" data-path="Chapter-5.html"><a href="Chapter-5.html#sarima"><i class="fa fa-check"></i>SARIMA</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Chapter-6.html"><a href="Chapter-6.html"><i class="fa fa-check"></i>Klaszterezés és főkomponens elemzés</a><ul>
<li class="chapter" data-level="" data-path="Chapter-6.html"><a href="Chapter-6.html#klaszterezés"><i class="fa fa-check"></i>Klaszterezés</a></li>
<li class="chapter" data-level="" data-path="Chapter-6.html"><a href="Chapter-6.html#főkomponens-elemzés"><i class="fa fa-check"></i>Főkomponens elemzés</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A COVID járvány elemzése többváltozós statisztikai eszközökkel</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Chapter-6" class="section level1">
<h1>Klaszterezés és főkomponens elemzés</h1>
<p>Az országok klaszterezése és a trendek megállapítása fontos feladat, hiszen a vírus lefutása földrajzilag változó a különböző területeken.
Ezen kívül az alábbi elemzés célja az is, hogy egy-egy országegy főre jutó GDP és az egészségügyi kiadások GDP arányos értékével próbálja
magyarázni a halálozási rátát. Ennek intuíciója, hogy a gazdagabb és egészségügyre többet költp országok jobban fel lehettek készülve egy
esetleges járványra.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="Chapter-6.html#cb101-1"></a>country_data_merge &lt;-<span class="st"> </span><span class="kw">left_join</span>(country_data, healthcare, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;countrycode&quot;</span>=<span class="st">&quot;Country Code&quot;</span>))</span>
<span id="cb101-2"><a href="Chapter-6.html#cb101-2"></a>country_data_merge &lt;-<span class="st"> </span><span class="kw">left_join</span>(country_data_merge, gdp_per_cap, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;countrycode&quot;</span>=<span class="st">&quot;Country Code&quot;</span>))</span>
<span id="cb101-3"><a href="Chapter-6.html#cb101-3"></a>country_data_merge &lt;-<span class="st"> </span><span class="kw">left_join</span>(country_data_merge, population, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;countrycode&quot;</span>=<span class="st">&quot;Country Code&quot;</span>))</span>
<span id="cb101-4"><a href="Chapter-6.html#cb101-4"></a></span>
<span id="cb101-5"><a href="Chapter-6.html#cb101-5"></a><span class="co">#Mindegyik adatot népességarányosan számoltunk</span></span>
<span id="cb101-6"><a href="Chapter-6.html#cb101-6"></a></span>
<span id="cb101-7"><a href="Chapter-6.html#cb101-7"></a>country_data_merge[, <span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">8</span>, <span class="dv">12</span><span class="op">:</span><span class="dv">13</span>)] &lt;-<span class="st"> </span>country_data_merge[ , <span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">8</span>,<span class="dv">12</span><span class="op">:</span><span class="dv">13</span>)]<span class="op">/</span>country_data_merge<span class="op">$</span>Population<span class="op">*</span><span class="dv">100000</span></span>
<span id="cb101-8"><a href="Chapter-6.html#cb101-8"></a></span>
<span id="cb101-9"><a href="Chapter-6.html#cb101-9"></a></span>
<span id="cb101-10"><a href="Chapter-6.html#cb101-10"></a><span class="co">#A 15 legnépesebb és leggazdagabb országot fogjuk plotolni, az átláhatóság kedvéért</span></span>
<span id="cb101-11"><a href="Chapter-6.html#cb101-11"></a>biggest_countries &lt;-<span class="st"> </span></span>
<span id="cb101-12"><a href="Chapter-6.html#cb101-12"></a><span class="st">  </span><span class="kw">unique</span>(<span class="kw">c</span>(<span class="kw">head</span>(country_data_merge[<span class="kw">order</span>(<span class="op">-</span>country_data_merge<span class="op">$</span>Population),]<span class="op">$</span><span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span>,<span class="dv">15</span>),</span>
<span id="cb101-13"><a href="Chapter-6.html#cb101-13"></a>           <span class="kw">head</span>(country_data_merge[<span class="kw">order</span>(<span class="op">-</span>country_data_merge<span class="op">$</span>GDPperCapita),]<span class="op">$</span><span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span>,<span class="dv">15</span>)))</span></code></pre></div>
<p>Adattáblánkban keresztmetszeti adatokat használtunk, július 27-i dátummal 165 országból.
Az ekkori 100 000 főre vetített esetek, halálozások, aktív esetek
és az egy héttel korábbi változás látható.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="Chapter-6.html#cb102-1"></a>country_data_merge[,<span class="kw">c</span>(<span class="st">&quot;countrycode&quot;</span>,<span class="st">&quot;WHO Region&quot;</span>, <span class="st">&quot;Country/Region&quot;</span>)] &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb102-2"><a href="Chapter-6.html#cb102-2"></a>country_data_merge<span class="op">$</span><span class="st">`</span><span class="dt">Deaths / 100 Recovered</span><span class="st">`</span> &lt;-<span class="st"> </span><span class="kw">replace</span>(country_data_merge<span class="op">$</span><span class="st">`</span><span class="dt">Deaths / 100 Recovered</span><span class="st">`</span>, <span class="kw">is.infinite</span>(country_data_merge<span class="op">$</span><span class="st">`</span><span class="dt">Deaths / 100 Recovered</span><span class="st">`</span>),<span class="ot">NA</span>)</span>
<span id="cb102-3"><a href="Chapter-6.html#cb102-3"></a><span class="kw">rownames</span>(country_data_merge) &lt;-<span class="st"> </span>country_data<span class="op">$</span><span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span></span>
<span id="cb102-4"><a href="Chapter-6.html#cb102-4"></a></span>
<span id="cb102-5"><a href="Chapter-6.html#cb102-5"></a><span class="kw">datatable</span>(country_data_merge <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate_if</span>(is.numeric, <span class="op">~</span><span class="kw">round</span>(., <span class="dv">1</span>)), <span class="dt">rownames=</span><span class="ot">TRUE</span>, <span class="dt">filter =</span> <span class="st">&quot;none&quot;</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">pageLength=</span><span class="dv">15</span>, <span class="dt">scrollX=</span><span class="st">&#39;400px&#39;</span>, <span class="dt">scrollY=</span><span class="st">&#39;400px&#39;</span>, <span class="dt">dom=</span><span class="st">&#39;ltp&#39;</span>), <span class="dt">fillContainer =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">formatStyle</span>(<span class="kw">names</span>(<span class="kw">head</span>(country_data_merge, <span class="dv">15</span>)), <span class="dt">font=</span><span class="st">&quot;bold&quot;</span>, <span class="dt">fontSize =</span> <span class="st">&#39;9.5pt&#39;</span>)</span></code></pre></div>
<div id="htmlwidget-2f5414e7d5c0a9263858" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2f5414e7d5c0a9263858">{"x":{"filter":"none","fillContainer":true,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187"],[95.3,171,65,1175.8,3,88.6,372.5,1264.1,60.3,231.6,303.8,98.1,2405.7,138.7,38.3,710.4,578.4,12.3,15,13,618.3,318,32.1,1157.3,32.5,152.3,5.4,0.6,3.3,423.3,1.4,66.1,309.8,96.9,5.8,1835.8,6.2,510.7,41.6,59.5,10.2,313.8,60.9,120,22.3,88.4,145.4,236.5,519.6,25.1,597.4,467.1,92.1,233,226.5,null,153.3,201.7,13,3,134,328.6,330.9,13.9,30.6,249.1,110.5,39.4,24.9,20.5,272.9,55.2,101.7,49.7,65.2,null,407.8,45.5,513.1,108.3,37.1,354.1,286.4,524,706.8,408.5,28.9,24.7,11.6,457.2,34.2,null,1530.3,515.7,0.3,63.7,56.6,23.8,23.6,41.7,226.2,72.4,1019.7,35.9,19.7,27.9,634.5,12.8,139.5,137.2,27.2,310,871.2,297.7,9,465,57.3,5.6,73.9,65.5,308.2,31.7,52.5,4.9,20.5,490.2,170.8,1548.9,126.7,1446.9,0.7,64.6,1198.7,75.9,114.3,489.8,3869.9,237.1,565.7,14.9,32.2,13.1,47,2064.4,402.2,784.8,59.9,347.6,116.8,22.8,891.3,40,100,20.7,772.8,27.5,20.8,578.7,12.9,26.7,255.1,771.9,402.1,3.9,null,77.6,0.9,4.7,1.9,10.8,10.6,12.4,272.1,1307.1,2.5,151.2,605.7,451.4,34.7,63.2,56.1,0.4,226.7,null,5.8,25.5,18.5],[3.3,5,2.7,67.4,0.1,3.1,6.8,24,0.7,8,4.2,2.8,8.6,1.8,2.4,5.7,85.5,0.5,0.3,0,23,8.9,0.1,41.5,0.7,5,0.3,0,0,4,0,1.5,23.8,1.2,0.5,48.5,0.3,17.4,0.8,1,0.2,2.3,0.4,3.4,0.8,1.6,3.5,10.5,6,0,10.1,31.8,4.6,6.3,3.8,null,5.2,3,0.2,0,6,45.1,2.3,0.3,0.4,11,0.6,1.9,0,0,10.6,0.4,1.4,2.6,1.4,null,12,6.1,2.8,2.4,1.8,19.2,11.3,35.7,5.2,58.2,0.3,0.8,0.1,3.2,0.5,null,10.4,20.1,0,1.6,0.7,0.6,1.5,0.9,2.6,2.9,18.1,0.3,0.5,0.4,2.8,0.6,1.8,3.4,0.8,34.5,28.1,10.3,0,7.2,0.9,0,0.3,0.2,35.5,0.4,1.6,0.3,0.4,22.4,4.8,7.9,2.7,31.1,0,0.6,56.7,1.8,4.4,16.7,5.8,11.4,9.2,0,0,0,0,124,6.5,8.1,1.2,7.8,0,0.8,0.5,0.5,5.6,0.6,12.1,0.6,0.4,60.4,0.1,1.7,4.1,55.4,23.1,0.2,null,0.6,0,0.1,0,0.2,0.6,0.4,6.7,45.1,0,3.7,3.5,68.6,1,0.4,0.5,0,1.7,null,1.7,0.8,0.2],[66.2,96.2,43.8,1040.9,0.8,66.9,161.5,901.5,36.7,205.5,231.9,23.4,2200.3,77.1,32.7,639,152,6.7,8.8,11.3,186.6,149.3,2.7,875,31.8,80.1,4.6,0.5,2.6,281.9,0.9,56.2,0,32.6,5.1,1688.2,5.6,260.6,38.5,15.4,6.6,75.8,40.3,96.8,20.7,71.1,107.1,216.6,511.2,25.1,281.3,200.9,34.7,120.5,62.1,null,145,89.3,5.7,2,125.4,121.1,215.5,2.8,24.8,228.9,98,12.8,23.1,20.5,195.5,49,41.8,23.1,38.8,null,51.7,34.1,504.5,69.6,21.5,307.7,196.2,472.8,299.7,329.4,24.2,17.4,10.3,293.9,14.9,null,1308.7,328.4,0.3,54.6,24.9,6,13.1,8.5,213.1,58.1,778.4,23.2,8.8,26.9,479.7,9.7,132.3,102.8,26.2,238.1,607.8,266.9,6.9,130,45.4,0,4,48.1,1.1,30.8,38.1,4.4,9.1,267.1,163.7,1146.3,111.3,826.2,0.1,41.2,838.3,24.5,86.5,344.5,3754.4,133.3,417.1,7.7,28.4,12,35.3,1940.3,341.3,650.6,39.7,0,39.9,16.9,801.1,29.6,83,10,469.5,25.2,10.6,319.4,9.7,13.9,159.1,0,360.4,0,null,64.7,0.3,4.5,0,7.5,9.2,9.9,252.3,403.9,2.2,83.8,537.4,2.2,27.5,34.8,34.9,0.4,80.1,null,2.9,15.8,3.7],[25.8,69.8,18.5,67.4,2.1,18.5,204.2,338.6,23,18,67.7,71.9,196.9,59.8,3.1,65.7,340.9,5.1,5.9,1.7,408.7,159.8,29.3,240.8,0,67.2,0.6,0.1,0.7,137.5,0.5,8.4,286,63.1,0.2,99.1,0.2,232.7,2.2,43.1,3.4,235.8,20.2,19.8,0.8,15.8,34.8,9.3,2.5,0,306.1,234.5,52.8,106.1,160.6,null,3.2,109.5,7.1,1,2.7,162.4,113.1,10.7,5.3,9.2,12,24.7,1.8,0,66.8,5.9,58.6,24,25,null,344.1,5.4,5.8,36.3,13.8,27.2,78.8,15.5,401.8,20.9,4.4,6.5,1.2,160.2,18.7,null,211.2,167.1,0,7.5,31,17.2,9.1,32.3,10.5,11.4,223.3,12.4,10.3,0.6,152,2.4,5.4,30.9,0.2,37.4,235.2,20.5,2.1,327.7,11,5.6,69.5,17.3,271.5,0.4,12.8,0.2,11,200.8,2.3,394.7,12.7,589.5,0.6,22.7,303.8,49.6,23.4,128.6,109.6,92.5,139.3,7.1,3.8,1.1,11.8,0,54.4,126.2,19,339.8,76.8,5.1,89.8,9.8,11.4,10.1,291.2,1.7,9.8,198.9,3.1,11.1,91.9,716.5,18.6,3.7,null,12.3,0.5,0.2,1.9,3.1,0.9,2.1,13.1,858,0.3,63.7,64.7,380.7,6.2,28,20.6,0.1,144.9,null,1.3,8.9,14.5],[0.3,4.1,1.4,13,0.1,4.1,10.9,2.5,1.5,1,4,10.3,21.4,1.7,0,1.3,3.5,0,0,0.5,15.2,22.1,2.3,11,0,2.8,0.1,0,0.1,3.8,0,1.6,1.8,0,0,11.3,0,32.4,0,3,0,12.1,0.2,0.6,0.3,0.3,1.8,1.9,0.9,0,11.6,2.7,0.4,6.3,0,null,0,9.5,0.5,0,0.1,3.8,9.4,2.1,0.2,0.5,2.2,0.3,1.8,0,1.5,0.4,0,2.4,0.2,null,4.8,0.1,1.9,3.3,0.6,2.9,6.5,0.2,22.4,0.3,0.4,0.5,0.1,8.2,0.7,null,14.4,7.5,0,0,1.9,0,0.1,2.3,0,0.4,7.9,1.5,0.1,0,12.6,0,0.2,0.8,0,3.9,4.5,0,0,15.1,1.7,0.1,2.7,0.5,2.4,0,0,0,0.3,6.1,0.3,21.2,0.5,27,0,1.5,42.3,1.5,0.9,1.3,10.3,5.7,3.9,0.5,0,0,0,0,0.9,5.8,0.5,5.9,0,0,8.2,0,0.2,0.1,12.1,0.1,0.4,0,0.1,0.1,7.6,3.9,0.8,0.1,null,0.5,0,0,0,0.1,0.1,0,1.1,17.2,0,1.9,2.7,1,0.3,2,1.8,0,3.2,null,0,0.4,1.3],[0,0.2,0,0,0,0,0.3,0.2,0,0,0.1,0,0.1,0,0,0,0,0,0,0,0.6,0.4,0,0.3,0,0.1,0,0,0,0,0,0,0,0,0,0.4,0,1,0,0.1,0,0.2,0,0.1,0,0,0,0,0,0,0.2,0.1,0,0.1,0,null,0,0.2,0,0,0,0,0,0.1,0,0,0,0,0,0,0.2,0,0,0,0,null,0.5,0,0,0,0,0.3,0.2,0,0,0,0,0,0,0,0,null,0.1,0.4,0,0,0,0,0,0.1,0,0,0,0,0,0,0,0,0,0,0,0.3,0.5,0,0,0.3,0,0,0,0,0,0,0,0,0,0.3,0,0.2,0,0.7,0,0,1.8,0,0,0,0,0.1,0.1,0,0,0,0,0,0,0.1,0,0.1,0,0,0,0,0,0,0.5,0,0,0,0,0,0.2,0,0,0,null,0,0,0,0,0,0,0,0,0.3,0,0,0,0,0,0,0,0,0,null,0,0,0],[0,2.2,1.7,0,0,5.1,4.6,6.3,0.5,0.4,5.6,0,25.7,1.1,0,0.7,0.1,0,0,0.1,2.7,11.4,0.5,16,0,3.3,0,0,0.2,18.7,0,0,0,0,0,9.8,0,22.8,0,1.4,0.2,1.7,0.7,1.7,0,0,0,1.3,1.1,0,14.9,0,1,2,0,null,0.1,3.4,0.2,0,0,0.4,10.1,0.3,0.1,0.3,1,0,0,0,5.1,0.8,0,0,0,null,1.2,0,0,2.5,0.6,2.3,4.9,0,1.2,0.2,0,0.3,0,9.9,0.2,null,16.3,12.7,0,0,0.2,0,0.1,0.4,0,0.1,28.7,2.5,0,0,3.6,0,0,4.9,0,6.7,9.2,0,0.1,11.3,0.3,0,1,2.2,0,0,0,0,0.4,6.6,0,34.8,1.7,22.5,0,1.6,14.4,0.3,0.3,1.5,10.7,0.8,2.1,0.5,0,0,0,0,17.7,7.6,0.4,0,0,0.1,3,0.7,2.6,0.1,16.8,0.2,0,0,0.1,0.1,6,0,2.3,0,null,0.6,0,0,0,0.1,0,0.1,1.2,8.5,0,0.7,3.4,0,0.1,1.7,0.7,0,0,null,0.1,2.6,0.2],[3.5,3,4.2,5.7,4.3,3.5,1.8,1.9,1.1,3.5,1.4,2.9,0.4,1.3,6.4,0.8,14.8,4.2,2,0,3.7,2.8,0.3,3.6,2.1,3.3,4.8,1.7,0.3,1,0,2.3,7.7,1.3,8.1,2.6,5.4,3.4,2,1.7,2.4,0.7,0.6,2.8,3.4,1.8,2.4,4.5,1.1,0,1.7,6.8,5,2.7,1.7,0,3.4,1.5,1.6,0,4.5,13.7,0.7,2.5,1.4,4.4,0.5,4.8,0,0,3.9,0.6,1.3,5.1,2.1,0,2.9,13.4,0.5,2.3,4.8,5.4,4,6.8,0.7,14.3,1.2,3.2,0.9,0.7,1.6,2.5,0.7,3.9,0,2.5,1.3,2.4,6.2,2.3,1.2,4,1.8,0.9,2.7,1.4,0.4,4.9,1.3,2.5,2.9,11.1,3.2,3.5,0,1.6,1.5,0.6,0.4,0.3,11.5,1.4,3.1,6.1,2.1,4.6,2.8,0.5,2.1,2.1,0,1,4.7,2.4,3.9,3.4,0.2,4.8,1.6,0.3,0,0,0,6,1.6,1,2,2.2,0,3.7,0,1.3,5.6,2.9,1.6,2.1,2,10.4,0.4,6.3,1.6,7.2,5.7,5.9,1.5,0.8,4.1,1.8,0,2.1,5.4,3.4,2.5,3.5,0.2,2.4,0.6,15.2,2.9,0.6,0.9,0,0.7,10,28.6,3.1,1.3],[69.5,56.2,67.3,88.5,25.5,75.6,43.4,71.3,60.8,88.8,76.3,23.8,91.5,55.6,85.5,90,26.3,54.2,58.5,86.9,30.2,47,8.5,75.6,97.9,52.6,84.2,83.4,79.6,66.6,65,85,0,33.6,87.8,92,90.9,51,92.7,25.9,64.5,24.1,66.2,80.6,92.8,80.4,73.7,91.6,98.4,100,47.1,43,37.7,51.7,27.4,72.1,94.5,44.3,43.9,66.7,93.5,36.9,65.1,20.2,81.1,91.9,88.6,32.5,92.9,100,71.6,88.7,41.1,46.5,59.5,100,12.7,74.8,98.3,64.3,58,86.9,68.5,90.2,42.4,80.6,83.7,70.5,88.5,64.3,43.6,54.3,85.5,63.7,95,85.7,44,25.4,55.4,20.4,94.2,80.2,76.3,64.6,44.9,96.6,75.6,76.1,94.9,75,96.5,76.8,69.8,89.7,76.8,28,79.2,0,5.5,73.3,0.4,97.2,72.5,90.7,44.2,54.5,95.8,74,87.9,57.1,17.7,63.9,69.9,32.2,75.7,70.3,97,56.2,73.7,51.9,88.2,91.7,75,94,84.9,82.9,66.3,0,34.2,73.9,89.9,74.1,83,48.3,60.8,91.6,51,55.2,75.6,52,62.4,0,89.6,0,95.2,83.3,36,94.4,0,69.5,86.5,79.5,92.7,30.9,87.4,55.5,88.7,0.5,79.1,55,62.3,84.7,35.3,80,49.3,61.8,20],[5,5.2,6.2,6.5,16.9,4.6,4.2,2.7,1.8,3.9,1.8,12.1,0.4,2.4,7.5,0.9,56.3,7.7,3.4,0,12.3,6,3.2,4.7,2.2,6.2,5.7,2,0.3,1.4,0,2.7,null,3.8,9.3,2.9,5.9,6.7,2.1,6.5,3.6,3,0.9,3.5,3.7,2.2,3.3,4.9,1.2,0,3.6,15.8,13.3,5.2,6.1,0,3.6,3.3,3.6,0,4.8,37.2,1.1,12.1,1.7,4.8,0.6,14.7,0,0,5.4,0.7,3.2,11.1,3.6,0,23.1,17.9,0.6,3.5,8.3,6.2,5.8,7.5,1.8,17.7,1.4,4.5,1.1,1.1,3.6,4.6,0.8,6.1,0,3,3,9.4,11.2,11.1,1.2,4.9,2.3,1.4,6,1.4,0.6,6.5,1.4,3.4,3,14.5,4.6,3.8,0,5.6,1.9,null,7.9,0.4,3259.3,1.4,4.3,6.7,4.7,8.4,2.9,0.7,2.4,3.8,0,1.5,6.8,7.3,5.1,4.9,0.2,8.6,2.2,0.5,0,0,0,6.4,1.9,1.2,3,null,0,5,0.1,1.7,6.7,6,2.6,2.3,3.9,18.9,0.5,12.1,2.6,null,6.4,null,1.6,1,11.5,1.9,0,3,6.2,4.3,2.7,11.2,0.2,4.4,0.7,3190.3,3.7,1,1.5,0,2.1,12.5,58,5,6.6],[93.4,146.1,55,1145.9,2.4,78.3,291,1182.7,49,222.4,278.3,44.7,2250.6,127.2,36.9,699.4,558.1,10.2,13.6,11.8,529.8,256.9,22.7,1003.9,32.5,128,5.2,0.6,2.8,376.6,1,62.4,300.4,95.8,5.6,1757.2,6.1,405.3,39.3,53,9.7,228.5,55.7,107.4,21.6,86.6,132.1,231.2,515.6,25.1,502.4,429.5,88.1,189.2,226.5,null,152.3,159,9.1,3,133,319.2,296.1,4.8,27.9,244.6,93.5,37.4,23.1,20.5,235.1,51.6,101.5,43.1,62.6,null,355.1,44.4,509,84.6,32.6,333.1,240.9,521.4,574.4,405.7,27.4,20.4,12.1,396.8,26.2,null,1420.5,420.4,0.3,62.3,42.4,16.9,22.4,29.2,226.2,69.9,909.7,26.5,16.1,27.5,564.8,12.6,134.7,130.9,27.1,273.9,794.5,279.7,8.9,351.7,48.2,5,53.9,62.4,300.8,31.6,48.1,4.7,18.5,443.9,168.9,1374.9,122.9,1281.7,0.2,53.2,1100.2,63.7,106.4,474.9,3779.5,197,537.6,12.9,32.2,12.6,45.2,2064.4,346.9,739.3,54.9,306,110.6,21.9,842.2,36.3,93.5,20.3,638,26.7,20,562.6,12.5,25.7,185.6,758.8,392.2,3.1,null,74.3,0.9,4.7,1.9,9.7,9.8,11.8,264.4,1168.3,2.4,136.9,585.4,444.3,30.7,51.1,43.3,0.4,190.3,null,5.6,18.6,11.7],[1.9,24.8,9.9,29.8,0.6,10.3,81.5,81.4,11.3,9.2,25.5,53.4,155.1,11.5,1.4,11,20.3,2,1.4,1.2,88.5,61.2,9.4,153.4,0,24.3,0.2,0,0.5,46.7,0.3,3.7,9.4,1.1,0.2,78.6,0.1,105.5,2.4,6.5,0.5,85.3,5.2,12.6,0.8,1.8,13.3,5.3,4,0,95,37.6,4.1,43.8,0,null,1,42.7,3.9,0,1.1,9.4,34.8,9.1,2.6,4.6,17.1,2,1.8,0,37.8,3.6,0.3,6.6,2.5,null,52.6,1.1,4.2,23.8,4.5,21,45.5,2.5,132.3,2.8,1.5,4.3,-0.5,60.4,8,null,109.7,95.3,0,1.4,14.3,6.9,1.2,12.5,0,2.6,110,9.4,3.6,0.3,69.7,0.2,4.8,6.3,0.1,36.1,76.7,18,0.1,113.3,9.1,0.6,20,3.2,7.4,0,4.5,0.1,2,46.3,1.8,174,3.8,165.2,0.5,11.4,98.5,12.2,8,14.9,90.4,40.1,28,2,0,0.5,1.8,0,55.3,45.5,5,41.6,6.1,0.9,49.1,3.7,6.4,0.4,134.7,0.7,0.8,16.1,0.3,1,69.5,13.1,9.8,0.9,null,3.4,0,0.1,0,1.1,0.8,0.6,7.7,138.8,0.1,14.3,20.3,7.1,4,12.1,12.8,0,36.4,null,0.2,6.9,6.8],[2.1,17,18.1,2.6,26.8,13.2,28,6.9,23.1,4.1,9.2,119.5,6.9,9.1,3.8,1.6,3.6,20,10.5,10,16.7,23.8,41.6,15.3,0,18.9,3.3,2.6,17.4,12.4,32.2,5.9,3.1,1.1,3.7,4.5,1.4,26,6,12.2,4.8,37.3,9.4,11.7,3.5,2.1,10.1,2.3,0.8,0,18.9,8.8,4.6,23.2,0,5.6,0.6,26.8,42.5,0,0.8,3,11.8,191.1,9.4,1.9,18.3,5.4,7.7,0,16.1,7.1,0.3,15.4,4.1,0,14.8,2.5,0.8,28.1,13.7,6.3,18.9,0.5,23,0.7,5.4,21.1,-3.8,15.2,30.5,26.1,7.7,22.7,5.3,2.3,33.6,40.7,5.4,42.8,0,3.7,12.1,35.5,22.5,1.2,12.3,1.5,3.5,4.8,0.3,13.2,9.7,6.4,0.7,32.2,18.9,12.9,37.1,5.1,2.5,0.1,9.3,2.4,10.6,10.4,1.1,12.7,3.1,12.9,226.3,21.3,9,19.1,7.5,3.1,2.4,20.4,5.2,15.3,0,4.3,4,0,15.9,6.2,9.1,13.6,5.6,4.2,5.8,10.2,6.9,2.1,21.1,2.8,4.2,2.9,2.8,3.9,37.4,1.7,2.5,29.1,2.4,4.5,0,1.4,0,11.6,8,5.4,2.9,11.9,5.5,10.4,3.5,1.6,13,23.7,29.6,12.2,19.1,0,4.5,36.9,57.9],[9.4,5.3,6.2,6.7,2.5,5.2,9.6,10,9.3,10.3,3.5,6.2,4.1,2.3,6.6,5.6,10.3,5.7,2.5,3.1,6.3,8.9,5.8,9.5,2.4,7.3,5.6,4.8,7.7,5.4,6,3.5,10.8,11,4.1,9.1,5.4,7.6,4.6,2.1,3.3,7.6,4.2,6.8,11.2,6.8,7.6,10.1,2.3,6.6,5.7,8.1,4.9,7.1,3,4.1,6.7,6.5,3.3,3.4,9,11.3,2.7,3.1,7.1,11.4,3.5,7.7,null,4.5,5.7,3.9,7,5.9,7.7,null,7,6.7,8.5,3.5,2.9,8.7,4.1,6.9,7.5,8.7,6.1,11,7.8,2.9,5.2,null,5,6.5,2.2,6.2,8.4,9.3,6.7,null,null,6.6,5.3,4.8,9.3,3.8,9.4,3.9,9,4.6,5.8,5.4,6.6,1.6,3.8,8.4,5.3,8.2,8,5.8,10,9.2,8.6,7.3,3.9,6.6,10,4.1,3.2,7.3,2.4,6.7,5.2,4.4,6.3,9.4,2.5,5.6,5.3,7.5,5.3,4.4,4.5,7.1,6.3,6.4,4,8.5,5.1,16.1,4.5,6.7,8.3,null,8.3,7.6,6.4,9,3.8,4.5,8,10.9,11.9,null,null,7.2,3.6,3.8,4.3,6.2,6.9,7.3,4.1,16.9,6.5,7.7,4.2,10,9.2,5.3,3.6,5.9,null,null,null,4.9,4.7],[507.1,5353.2,3974,40886.4,2790.7,17112.8,9912.3,4622.7,55060.3,50137.7,4793.6,34863.7,23504,1855.7,18148.2,6663.3,46420.7,4815.2,1219.4,3316.2,3552.1,6108.5,7961.3,8717.2,31086.8,9828.1,786.9,1407.8,261.2,3603.8,1643.1,1507.5,46194.7,467.9,709.5,14896.5,10261.7,6428.7,1370.1,2280,580.7,12243.8,2276.3,14936.1,null,27858.4,23494.6,60170.3,3414.9,8110.6,8282.1,6183.8,3019.2,4187.3,8131.9,null,23723.3,3894.7,855.8,6175.9,48782.8,40493.9,7767,777.8,4697.7,46445.2,2202.1,19582.5,null,10808.7,4620,962.8,697.3,6609.6,1272.5,null,2574.9,16731.8,66944.8,2099.6,4135.6,null,5955.1,78661,43592.1,33228.2,5582.3,40246.9,4405.5,9812.4,1816.5,null,32000.4,1309.4,2534.9,17828.9,7583.7,1118.1,621.9,7685.9,null,19601.9,114704.6,523.4,411.6,11414.2,10626.5,879,29820.6,1679.4,11099.2,9946,4503.5,null,4339.8,8908.9,3204.1,503.6,4957.5,1071.1,52331.3,42084.4,1912.9,553.9,2229.9,6022.2,75419.6,15343.1,1284.7,15731,2829.2,5414.8,6977.7,3485.1,15692.5,23252.1,62088.1,12919.5,11585,820,19935,11611.4,7457.5,null,1946.6,23139.8,1446.8,7411.8,17448.3,527.5,65233.3,19266.3,25946.2,null,6001.4,31846.2,null,29600.4,3853.1,441.5,6359.8,51615,81993.7,null,null,870.8,1122.1,7806.7,1560.5,679.3,17398,3317.5,9126.6,65297.5,794.3,3659,43103.3,42330.1,16190.1,1724.8,null,2715.3,null,null,774.3,1305.1,1464],[38041754,2854191,43053054,77142,31825295,97118,44938712,2957731,25364307,8877067,10023318,389482,1641172,163046161,287025,9466856,11484055,390353,11801151,763092,11513100,3301000,2303697,211049527,433285,6975761,20321378,54045420,11530580,549935,16486542,25876380,37589262,4745185,15946876,18952038,1397715000,50339443,850886,5380508,86790567,5047561,25716544,4067500,11333483,1198575,10669709,5818553,973560,71808,10738958,17373662,100388073,6453553,1355986,null,1326590,1148130,112078730,889953,5520314,67059887,2172579,2347706,3720382,83132799,30417856,10716322,56225,112003,16604026,12771246,1920922,782766,11263077,null,9746117,9769949,361313,1366417754,270625568,82913906,39309783,4941444,9053300,60297396,2948279,126264931,10101694,18513930,52573973,null,4207083,6456900,7169455,1912789,6855713,2125268,4937374,6777452,38019,2786844,619896,26969307,18628747,31949777,530953,19658031,502653,4525696,1265711,127575529,2657637,38964,3225167,622137,36471769,30366036,2494530,28608710,17332850,4917000,6545502,23310715,200963599,2083459,5347896,4974986,216565318,4246439,8776109,7044636,32510453,108116615,37970874,10269417,2832067,19356544,144373535,12626950,52834,182790,110589,33860,215056,34268528,16296364,6944975,97625,7813215,5703569,5454073,2087946,15442905,58558270,51709098,11062113,47076781,21803000,42813238,581363,10285453,8574832,17070135,null,9321018,58005463,69625582,1293119,8082366,1394973,11694719,83429615,328239523,44269594,44385155,9770529,66834405,3461734,33580650,28515829,96462106,4685306,null,29161922,17861030,14645468]],"container":"<table class=\"display fill-container\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Confirmed<\/th>\n      <th>Deaths<\/th>\n      <th>Recovered<\/th>\n      <th>Active<\/th>\n      <th>New cases<\/th>\n      <th>New deaths<\/th>\n      <th>New recovered<\/th>\n      <th>Deaths / 100 Cases<\/th>\n      <th>Recovered / 100 Cases<\/th>\n      <th>Deaths / 100 Recovered<\/th>\n      <th>Confirmed last week<\/th>\n      <th>1 week change<\/th>\n      <th>1 week % increase<\/th>\n      <th>HealthExpperGDP<\/th>\n      <th>GDPperCapita<\/th>\n      <th>Population<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":15,"scrollX":"400px","scrollY":"400px","dom":"ltp","columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,15,25,50,100],"rowCallback":"function(row, data) {\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[11]; $(this.api().cell(row, 11).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[12]; $(this.api().cell(row, 12).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[13]; $(this.api().cell(row, 13).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[14]; $(this.api().cell(row, 14).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[15]; $(this.api().cell(row, 15).node()).css({'font-weight':'bold','font-size':'9.5pt'});\nvar value=data[16]; $(this.api().cell(row, 16).node()).css({'font-weight':'bold','font-size':'9.5pt'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<p>Ezeket az adatokat a főkomponens elemzéshez és a klaszterezéshez le kell normáljuk.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="Chapter-6.html#cb103-1"></a>country_data_filter &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">scale</span>(dplyr<span class="op">::</span><span class="kw">select_if</span>(country_data_merge, is.numeric)), <span class="dt">check.names =</span> <span class="ot">FALSE</span>)</span>
<span id="cb103-2"><a href="Chapter-6.html#cb103-2"></a><span class="kw">rownames</span>(country_data_filter) &lt;-<span class="st"> </span>country_data<span class="op">$</span><span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span></span></code></pre></div>
<div id="klaszterezés" class="section level2">
<h2>Klaszterezés</h2>
<p>A hierarchikus klaszterezésből látszódik, hogy a gazdagabb (high-income) országok alkotnak egy nagyobb csoportot, míg a szegényebb (low income) országok is egy csoportba tartoznak.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="Chapter-6.html#cb104-1"></a><span class="kw">library</span>(igraph)</span>
<span id="cb104-2"><a href="Chapter-6.html#cb104-2"></a>hier &lt;-<span class="st"> </span><span class="kw">hclust</span>(<span class="kw">dist</span>(country_data_filter), <span class="dt">method=</span><span class="st">&quot;ward.D&quot;</span>)</span>
<span id="cb104-3"><a href="Chapter-6.html#cb104-3"></a><span class="kw">plot</span>(hier)</span></code></pre></div>
<p><img src="my-book_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="Chapter-6.html#cb105-1"></a><span class="kw">library</span>(factoextra)</span>
<span id="cb105-2"><a href="Chapter-6.html#cb105-2"></a><span class="kw">fviz_dend</span>(hier, <span class="dt">k=</span><span class="dv">4</span>, <span class="dt">repel=</span><span class="ot">TRUE</span>, <span class="dt">select.ind =</span> <span class="kw">list</span>(<span class="dt">name=</span>biggest_countries), <span class="dt">type=</span><span class="st">&quot;rectangle&quot;</span>)</span></code></pre></div>
<p><img src="my-book_files/figure-html/unnamed-chunk-47-2.png" width="672" /></p>
<p>Elsősorban 4 különböző csoportra osztottuk az országokat, azonban
<strong>a Gap-statisztika maximalizálásakor a k=3 klaszter lett az optimális</strong>.</p>
<p>Ekkor pedig ennyi klaszterrel k-közép klaszterezést hajtottunk végre, azonban mindössze 3
változót felhasználva:<br />
-<strong>100 esetre jutó halálozások száma</strong><br />
-<strong>egészségügyi kiadások aránya</strong><br />
-<strong>GDP per fő</strong><br />
</p>
<p>Ezt olyan megfontolásból, hogy elsősorban az utóbbi két változó a halálozási arányra
nyújthat magyarázatot, így ezzel akartuk párba állítani. Továbbá az optimális klaszterek száma
divergált akkor, hogyha az összes változót felhasználnánk.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="Chapter-6.html#cb106-1"></a><span class="kw">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb106-2"><a href="Chapter-6.html#cb106-2"></a>country_data_filter_na &lt;-<span class="st"> </span><span class="kw">na.omit</span>(country_data_filter)</span>
<span id="cb106-3"><a href="Chapter-6.html#cb106-3"></a></span>
<span id="cb106-4"><a href="Chapter-6.html#cb106-4"></a><span class="kw">fviz_nbclust</span>(country_data_filter_na[,<span class="kw">c</span>(<span class="st">&quot;Deaths / 100 Cases&quot;</span>, <span class="st">&quot;HealthExpperGDP&quot;</span>, <span class="st">&quot;GDPperCapita&quot;</span>)], <span class="dt">FUNcluster=</span>kmeans, <span class="dt">method=</span><span class="st">&quot;gap_stat&quot;</span>)</span></code></pre></div>
<p><img src="my-book_files/figure-html/unnamed-chunk-48-1.png" width="672" /></p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="Chapter-6.html#cb107-1"></a>kkozep &lt;-<span class="st"> </span><span class="kw">kmeans</span>(country_data_filter_na[,<span class="kw">c</span>(<span class="st">&quot;Deaths / 100 Cases&quot;</span>, <span class="st">&quot;HealthExpperGDP&quot;</span>, <span class="st">&quot;GDPperCapita&quot;</span>)], <span class="dt">centers=</span><span class="dv">3</span>, <span class="dt">nstart=</span><span class="dv">100</span>, <span class="dt">iter.max=</span><span class="dv">100</span>)</span>
<span id="cb107-2"><a href="Chapter-6.html#cb107-2"></a>kkozep<span class="op">$</span>centers</span></code></pre></div>
<pre><code>  Deaths / 100 Cases HealthExpperGDP GDPperCapita
1        -0.39022271      -0.8793173   -0.3866760
2         1.00336778       1.1636760    1.9957319
3        -0.03975533       0.4357404   -0.2483867</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="Chapter-6.html#cb109-1"></a>country_data_filter_na<span class="op">$</span>klaszter &lt;-<span class="st"> </span><span class="kw">as.factor</span>(kkozep<span class="op">$</span>cluster)</span>
<span id="cb109-2"><a href="Chapter-6.html#cb109-2"></a><span class="kw">levels</span>(country_data_filter_na<span class="op">$</span>klaszter) &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;Gazdag ország, magas halálozással&quot;</span>, <span class="st">&quot;Magasabb egészségügyi kiadás&quot;</span>, <span class="st">&quot;Alacsony egészségügyi kiadás&quot;</span>)</span></code></pre></div>
</div>
<div id="főkomponens-elemzés" class="section level2">
<h2>Főkomponens elemzés</h2>
<p>Ez következhet az adatok minőségéből, valamint abból, hogy ezekbe az országokba korábban ért el a vírus a globalizáció miatt,
így az első hullám alatti halálesetekben még nem volt annyira felkészülve az egészségügy.
(Az előzetes magas arányú költekezés ellenére.)</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="Chapter-6.html#cb110-1"></a>fokomp &lt;-<span class="st"> </span><span class="kw">princomp</span>(country_data_filter_na[ , <span class="dv">1</span><span class="op">:</span><span class="dv">15</span>])</span>
<span id="cb110-2"><a href="Chapter-6.html#cb110-2"></a>fokomp <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb110-3"><a href="Chapter-6.html#cb110-3"></a><span class="st">  </span><span class="kw">summary</span>() </span></code></pre></div>
<pre><code>Importance of components:
                          Comp.1    Comp.2    Comp.3     Comp.4     Comp.5
Standard deviation     2.4242839 1.4692307 1.4132999 1.06236800 0.95158166
Proportion of Variance 0.4026878 0.1479045 0.1368580 0.07733061 0.06204312
Cumulative Proportion  0.4026878 0.5505923 0.6874503 0.76478088 0.82682400
                           Comp.6     Comp.7    Comp.8     Comp.9    Comp.10
Standard deviation     0.81616357 0.73292048 0.6508623 0.60555793 0.46967173
Proportion of Variance 0.04564108 0.03680571 0.0290255 0.02512539 0.01511438
Cumulative Proportion  0.87246507 0.90927078 0.9382963 0.96342168 0.97853606
                          Comp.11     Comp.12     Comp.13      Comp.14 Comp.15
Standard deviation     0.39038422 0.330882505 0.226669757 1.299502e-08       0
Proportion of Variance 0.01044206 0.007501517 0.003520373 1.157058e-17       0
Cumulative Proportion  0.98897811 0.996479627 1.000000000 1.000000e+00       1</code></pre>
<p>A főkomponens elemzéshez a COVID-járvány összes adatát felhasználtuk,
és a loadingok alapján megállapíthattuk az intuícióval ellentétes következtetést,
hogy a gazdagabb országoknak magasabb a halálozási arányuk.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="Chapter-6.html#cb112-1"></a>fokomp <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb112-2"><a href="Chapter-6.html#cb112-2"></a><span class="st">  </span>.<span class="op">$</span>loadings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb112-3"><a href="Chapter-6.html#cb112-3"></a><span class="st">  </span><span class="kw">unclass</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb112-4"><a href="Chapter-6.html#cb112-4"></a><span class="st">  </span><span class="kw">data.frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb112-5"><a href="Chapter-6.html#cb112-5"></a><span class="st">  </span><span class="kw">rownames_to_column</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb112-6"><a href="Chapter-6.html#cb112-6"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="op">-</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb112-7"><a href="Chapter-6.html#cb112-7"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb112-8"><a href="Chapter-6.html#cb112-8"></a>    <span class="dt">name =</span> <span class="kw">str_remove</span>(name, <span class="st">&#39;Comp.&#39;</span>),</span>
<span id="cb112-9"><a href="Chapter-6.html#cb112-9"></a>    <span class="dt">name =</span> <span class="kw">factor</span>(<span class="kw">str_c</span>(<span class="st">&#39;# &#39;</span>, name), <span class="dt">levels =</span> <span class="kw">str_c</span>(<span class="st">&#39;# &#39;</span>, <span class="dv">1</span><span class="op">:</span><span class="kw">n_distinct</span>(name)))</span>
<span id="cb112-10"><a href="Chapter-6.html#cb112-10"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb112-11"><a href="Chapter-6.html#cb112-11"></a><span class="st">  </span>ggplot <span class="op">+</span></span>
<span id="cb112-12"><a href="Chapter-6.html#cb112-12"></a><span class="st">  </span><span class="kw">aes</span>(rowname, value, <span class="dt">fill =</span> value <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb112-13"><a href="Chapter-6.html#cb112-13"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb112-14"><a href="Chapter-6.html#cb112-14"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">color =</span> <span class="st">&#39;black&#39;</span>) <span class="op">+</span></span>
<span id="cb112-15"><a href="Chapter-6.html#cb112-15"></a><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb112-16"><a href="Chapter-6.html#cb112-16"></a><span class="st">  </span><span class="kw">scale_fill_discrete</span>(<span class="dt">guide =</span> F) <span class="op">+</span></span>
<span id="cb112-17"><a href="Chapter-6.html#cb112-17"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span>percent) <span class="op">+</span></span>
<span id="cb112-18"><a href="Chapter-6.html#cb112-18"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>name, <span class="dt">ncol =</span> <span class="dv">3</span>) <span class="op">+</span></span>
<span id="cb112-19"><a href="Chapter-6.html#cb112-19"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>, <span class="dt">title =</span> <span class="st">&#39;Főkomponensek&#39;</span>)</span></code></pre></div>
<p><img src="my-book_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
<ol style="list-style-type: decimal">
<li><p>Az első főkomponens leginkább <strong>a vírus július 27-ével bezárólag átlagos szintjét határozza meg.</strong><br />
</p></li>
<li><p>A második főkomponens a halálozás arányát és a egészségügyi kiadások mértékét használja negatív előjellel,
míg a gyógyultak számát pozitívval, így ennek <strong>a negatív szorzata mondható a halálozás mértékének.</strong><br />
</p></li>
<li><p>A harmadik főkomponensben az aktív és az új esetek, valamint az előző héthez képesti változás
szerepelnek negatív előjellel, tehát ez <strong>a járvány lecsengését mutatja.</strong></p></li>
</ol>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="Chapter-6.html#cb113-1"></a>country_data_filter_na &lt;-<span class="st"> </span><span class="kw">cbind</span>(country_data_filter_na, fokomp<span class="op">$</span>scores[ ,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</span>
<span id="cb113-2"><a href="Chapter-6.html#cb113-2"></a>country_data_filter_na<span class="op">$</span>Comp<span class="fl">.2</span> &lt;-<span class="st"> </span><span class="op">-</span>country_data_filter_na<span class="op">$</span>Comp<span class="fl">.2</span></span>
<span id="cb113-3"><a href="Chapter-6.html#cb113-3"></a></span>
<span id="cb113-4"><a href="Chapter-6.html#cb113-4"></a><span class="kw">colnames</span>(country_data_filter_na)[<span class="dv">18</span><span class="op">:</span><span class="dv">20</span>] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Vírus általános elterjedése&quot;</span>, <span class="st">&quot;Halálozás aránya&quot;</span>, <span class="st">&quot;Jelenleg javuló állapot&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="Chapter-6.html#cb114-1"></a><span class="kw">fviz_pca_biplot</span>(fokomp, <span class="dt">habillage=</span>country_data_filter_na<span class="op">$</span>klaszter, <span class="dt">repel =</span> <span class="ot">TRUE</span>, <span class="dt">select.ind =</span> <span class="kw">list</span>(<span class="dt">name=</span>biggest_countries), <span class="dt">geom.var =</span> <span class="kw">c</span>(<span class="st">&quot;arrow&quot;</span>, <span class="st">&quot;text&quot;</span>), <span class="dt">title =</span> <span class="st">&quot;Legnagyobb és leggazdagabb országok biplotja&quot;</span>)</span></code></pre></div>
<p><img src="my-book_files/figure-html/unnamed-chunk-52-1.png" width="672" /></p>

</div>
</div>









            </section>

          </div>
        </div>
      </div>
<a href="Chapter-5.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/MarcellGranat/COVID/blob/main/Chapter-6.Rmd",
"text": "Jump to GitHub"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
